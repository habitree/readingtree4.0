# 프로젝트 수정사항 취합 및 프롬프트 작성

이 문서는 프로젝트의 수정사항들을 취합하고, 이를 한 번에 반영하기 위한 실행 프롬프트를 작성하는 공간입니다.
사용자로부터 전달받은 수정 요청사항들을 내역에 정리하고, 이를 바탕으로 'Refactoring Prompt' 섹션에 LLM에게 전달할 최종 프롬프트를 완성합니다.

## 수정 요청 사항 내역 (Modification Requests)

1. **[Bug Fix] 기록 상세 공유 (Share Record)**: 하단 `by` 뒤의 사용자 프로필(이미지/이름)이 제대로 표시되지 않는 오류 수정.
2. **[Feature] 책 정보 (Book Info)**: '기록' 탭 또는 섹션에서 각 기록을 삭제할 수 있는 '삭제' 버튼 추가.
3. **[UI/UX] 기록 수정 (Edit Record)**: 태그 삭제(x) 버튼의 크기와 위치를 더 클릭하기 쉽고 보기 좋게 조정.
4. **[UI/UX] 공개 여부 (Visibility Toggle)**: PC 화면에서 공개/비공개 토글 버튼의 크기와 배치를 개선하여 가시성 확보.
5. **[UI/UX] 책 제목 표시 (Global Book Title)**: 책 제목에 괄호`()`가 포함된 경우, 괄호 내용을 원 제목 아래로 줄바꿈하여 배치. (책 제목이 노출되는 모든 컴포넌트/페이지에 적용)
6. **[UI/UX] 기록 상세 공유 (Share Record)**: 공유 화면에서 책 표지 이미지가 세로로 지나치게 좁게(찌그러져) 보이는 문제 해결 (비율 유지 또는 적절한 크기 조정).

---

## 실행 프롬프트 초안 (Draft Prompt for Execution)

> **Note**: 아래의 프롬프트는 모든 수정사항이 취합된 후, 실행 에이전트에게 전달할 최종 명령입니다.

**Role**: Expert Full-Stack Developer (Next.js, Vercel, Gemini API)

**Objective**: 아래 나열된 6가지 수정사항을 프로젝트에 완벽하게 반영하십시오. 사용자의 경험(UX)을 최우선으로 고려하며, 기존 디자인 시스템과 조화를 이루어야 합니다.

**Constraints & Rules**:
1. **Language**: 모든 설명과 주석은 **한국어**로 작성하십시오.
2. **Framework**: Next.js (App Router), Tailwind CSS를 사용하십시오.
3. **Consistency**: `doc/rdrule.md` 및 기존 코드 스타일을 준수하십시오.
4. **Analysis**: 수정 전, 각 요청이 영향을 미치는 컴포넌트(예: `BookCard`, `RecordDetail`, `TagInput` 등)를 식별하고 계획을 수립하십시오.
5. **Robustness**: 삭제 기능 추가 시 사용자 확인(Alert/Modal) 절차를 고려하십시오.

**Tasks**:

### 1. 기록 공유 화면 (Share Record) 수정 및 디자인 개선
- **Target**: `components/share/share-note-card.tsx` 및 관련 페이지
- **Action**:
    - **Single Component Logic**: `ShareNoteCard` 하나로 이미지 유무(`hasImage`)에 따른 두 가지 레이아웃을 모두 처리하도록 로직을 정비하십시오.
    - **Design (Image 없음)**:
        - 왼쪽 인용구(Quote) 텍스트 영역의 폭을 넓혀 가독성을 대폭 개선하십시오.
        - 인용구 시작 부분에 큰 따옴표 아이콘(Quote Icon)을 추가하여 이미지 버전과 시각적 통일성을 부여하십시오.
        - 불필요한 배경(Background)을 제거하여 텍스트 중심의 깔끔하고 자연스러운 느낌을 주십시오.
    - **Design (Image 있음)**:
        - 기존의 [왼쪽: 이미지 + 오른쪽: 인용구/감상] 구조를 유지하되, 책 표지 이미지가 세로로 찌그러지지 않고 자연스러운 비율(Aspect Ratio)로 보이도록 수정하십시오.
    - **Bug Fix**: 하단 `by [Profile]` 섹션의 프로필 이미지와 닉네임이 정상적으로 표시되도록 데이터 흐름을 디버깅하고 수정하십시오.


### 2. 책 정보 화면 (Book Info) 기능 추가
- **Target**: 책 상세 페이지 내 '기록' 리스트 섹션
- **Action**:
    - 각 기록 아이템에 '삭제' 버튼을 추가하십시오.
    - 클릭 시 "정말로 삭제하시겠습니까?" 식의 확인 절차를 거친 후 삭제 API를 호출하도록 구현하십시오.

### 3. 기록 수정 (Edit Record) UI 개선
- **Target**: 기록 수정/작성 페이지의 태그 입력 컴포넌트
- **Action**:
    - 태그 내 '삭제(X)' 버튼의 터치/클릭 영역을 넓히고, 아이콘 위치를 시각적으로 균형 잡힌 곳으로 이동하여 사용자 실수를 줄이십시오.

### 4. 공개 여부 토글 (Visibility) PC 최적화
- **Target**: 기록 작성/수정 페이지
- **Action**:
    - PC 뷰포트(데스크탑)에서 공개/비공개 설정 버튼이 너무 작거나 구석에 배치되지 않도록, 크기를 키우거나 레이아웃을 조정하여 조작 편의성을 높이십시오. 모바일 뷰와의 반응형 동작도 확인하십시오.

### 5. 책 제목 표시 개선 (Global UI)
- **Target**: `BookCard`, `BookHeader`, 등 책 제목을 표시하는 모든 공통 컴포넌트
- **Action**:
    - 책 제목 문자열에 괄호 `(...)`가 포함된 경우, 이를 감지하여 괄호 부분을 제목 하단의 서브 텍스트(작은 폰트, 줄바꿈)로 분리하여 렌더링하도록 로직을 개선하십시오. 정규식 등을 활용하여 처리하십시오.
